(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b60"],{"9Z4C":function(e,s,t){"use strict";var a=t("QrMn");t.n(a).a},GHYH:function(e,s,t){"use strict";t.r(s);var a={name:"upload-list",data:function(){return{progress:0,pass:null,isEnlargeImage:!1,enlargeImage:"",imagelist:[{url:"http://img.hb.aicdn.com/723f8754f412debce188626d09cc0a1b2be6b7a6751a3-ICEp1E_fw658",name:"lemon"},{url:"http://img.hb.aicdn.com/38ab9e558bcba041be979f03bfd31bd67bf1e6f35815a-8PD8Eo_fw658",name:"lemon2"},{url:"http://img.hb.aicdn.com/0cd0dcc93f5b918e191dd84791101435136c7f9811e31-LRzYAQ_fw658",name:"lemon3"}],params:{action:"http://jsonplaceholder.typicode.com/posts/",data:{}}}},computed:{proStatus:function(){return this.pass?"success":0==this.pass?"exception":""}},methods:{uploadOnProgress:function(e,s){console.log(e.percent,s),this.progress=Math.floor(e.percent)},uploadOnChange:function(e){console.log("——————————change——————————"),"ready"==e.status?(console.log("ready"),this.pass=null,this.progress=0):"fail"==e.status&&this.$message.error("图片上传出错，请刷新重试！")},uploadOnSuccess:function(e,s){console.log("——————————success——————————"),this.pass=!0,this.$message.success("上传成功"),this.imagelist.push({url:s.url,name:"新增图片"})},uploadOnError:function(e,s){console.log("——————————error——————————"),console.log(e),this.pass=!1},handleFileEnlarge:function(e){console.log(e),e&&(this.enlargeImage=e,this.isEnlargeImage=!this.isEnlargeImage)},handleFileName:function(e,s){var t=this;console.log(e,s);var a=this;this.$prompt("请输入新文件名：","提示：",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var n=e.value;if(console.log(n),!n)return!1;t.$message.success("操作成功"),a.imagelist[s].name=n}).catch(function(){})},handleFileRemove:function(e,s){var t=this;if(console.log(e,s),!e.url)return!1;var a=this;this.$confirm("是否删除此附件？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message.success("删除成功"),t.$message({type:"success",message:"删除成功",onClose:function(){a.imagelist.splice(s,1)}})}).catch(function(e){return console.log(e)})}}},n=(t("9Z4C"),t("KHd+")),o=Object(n.a)(a,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"img-list"},[e._l(e.imagelist,function(s,a){return t("div",{key:a,staticClass:"img-content"},[t("img",{attrs:{src:s.url}}),e._v(" "),t("div",{staticClass:"name"},[t("div",[e._v(e._s(s.name))]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.handleFileName(s,a)}}},[e._v("修改名字")])],1),e._v(" "),t("div",{staticClass:"del"},[t("i",{staticClass:"el-icon-delete",on:{click:function(t){e.handleFileRemove(s,a)}}})]),e._v(" "),t("div",{staticClass:"layer",on:{click:function(t){e.handleFileEnlarge(s.url)}}},[t("i",{staticClass:"el-icon-view"})])])}),e._v(" "),e.pass||0===e.progress?e._e():t("div",{staticClass:"img-content img-progress"},[t("el-progress",{attrs:{type:"circle",percentage:e.progress,status:e.proStatus}})],1),e._v(" "),t("div",{staticClass:"img-upload"},[t("el-upload",{ref:"upload",staticClass:"uploader",attrs:{accept:"image/*","list-type":"picture-card","show-file-list":!1,action:e.params.action,data:e.params.data,"on-change":e.uploadOnChange,"on-success":e.uploadOnSuccess,"on-error":e.uploadOnError,"on-progress":e.uploadOnProgress}},[t("el-button",{attrs:{type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"",visible:e.isEnlargeImage,size:"large","modal-append-to-body":!1,top:"8%",width:"60%"},on:{"update:visible":function(s){e.isEnlargeImage=s}}},[t("img",{staticStyle:{width:"100%"},attrs:{src:e.enlargeImage},on:{click:function(s){e.isEnlargeImage=!1}}})])],2)},[],!1,null,null,null);o.options.__file="dropzone.vue";s.default=o.exports},QrMn:function(e,s,t){}}]);